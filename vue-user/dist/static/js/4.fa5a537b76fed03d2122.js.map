{"version":3,"sources":["webpack:///src/view/map/map.vue","webpack:///./src/view/map/map.vue?20c2","webpack:///./src/view/map/map.vue"],"names":["map","data","mylocation","mysiteinfo","restaurants","title","isShow","type","time","Date","getTime","methods","goLocation","item","_this","this","that","window","BMap","Geocoder","getPoint","point","centerAndZoom","addOverlay","Marker","setTimeout","querySearch","queryString","cb","filter","createFilter","restaurant","value","toLowerCase","indexOf","loadAll","address","watch","$route","console","log","created","$nextTick","then","Map","Point","enableScrollWheelZoom","enableContinuousZoom","opts","BMAP_NAVIGATION_CONTROL_ZOOM","addControl","NavigationControl","DrivingRoute","renderOptions","autoViewport","LocalCity","get","result","cityName","name","setCenter","mounted","map_map","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","show-icon","_e","_v","span","fetch-suggestions","placeholder","on","select","model","callback","$$v","expression","click","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGAyBA,IAAAA,GACAC,KADA,WAEA,OACAD,IAAA,KACAE,WAAA,GACAC,WAAA,GACAC,eACAC,MAAA,QACAC,QAAA,EACAC,KAAA,QACAC,MAAA,IAAAC,MAAAC,YAGAC,SACAC,WADA,SACAC,GAAA,IAAAC,EAAAC,KACA,GAAAA,KAAAb,WAAA,CACA,IACAc,EAAAD,MADA,IAAAE,OAAAC,KAAAC,UAEAC,SAAAJ,EAAAd,WAAA,SAAAmB,GACAL,EAAAb,WAAAkB,EACAA,GACAL,EAAAhB,IAAAsB,cAAAD,EAAA,IACAL,EAAAhB,IAAAuB,WAAA,IAAAN,OAAAC,KAAAM,OAAAH,MAEAL,EAAAV,QAAA,EACAU,EAAAX,MAAA,gBACAW,EAAAT,KAAA,OACAkB,WAAA,WACAT,EAAAV,QAAA,GACA,aAIAS,KAAAT,QAAA,EACAS,KAAAV,MAAA,QACAU,KAAAR,KAAA,QACAkB,WAAA,WACAX,EAAAR,QAAA,GACA,MAIAoB,YA7BA,SA6BAC,EAAAC,GACA,IAAAxB,EAAAW,KAAAX,YAGAwB,EAFAD,EAAAvB,EAAAyB,OAAAd,KAAAe,aAAAH,IAAAvB,IAIA0B,aAnCA,SAmCAH,GACA,gBAAAI,GACA,WAAAA,EAAAC,MAAAC,cAAAC,QAAAP,EAAAM,iBAGAE,QAxCA,WAyCA,QACAH,MAAA,KAAAI,QAAA,QACAJ,MAAA,MAAAI,QAAA,QACAJ,MAAA,MAAAI,QAAA,UAIAC,OACAC,OADA,WAEAC,QAAAC,IAAA,YAGAC,QAlEA,WAmEA,IAAAzB,EAAAD,KACAA,KAAA2B,YAAAC,KAAA,WACA3B,EAAAhB,IAAA,IAAAiB,OAAAC,KAAA0B,IAAA,OAEA,IAAAvB,EAAA,IAAAJ,OAAAC,KAAA2B,MAAA,sBAEA7B,EAAAhB,IAAAsB,cAAAD,EAAA,IACA,IAAAJ,OAAAC,KAAAC,SAEAH,EAAAhB,IAAA8C,wBACA9B,EAAAhB,IAAA+C,uBACA,IAAAC,GAAAzC,KAAA0C,8BACAjC,EAAAhB,IAAAkD,WAAA,IAAAhC,KAAAiC,kBAAAH,IACA,IAAA9B,KAAAkC,aAAApC,EAAAhB,KACAqD,eACArD,IAAAgB,EAAAhB,IACAsD,cAAA,MAOA,IAAApC,KAAAqC,WACAC,IALA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,KACA3C,EAAAhB,IAAA4D,UAAAF,QAMAG,QA9FA,WA+FA9C,KAAAX,YAAAW,KAAAoB,YCrHe2B,GADEC,OAFjB,WAA0B,IAAAC,EAAAjD,KAAakD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,aAAuBL,EAAA,OAAAG,EAAA,YAA8BG,OAAOjE,MAAA2D,EAAA3D,MAAAE,KAAAyD,EAAAzD,KAAAgE,YAAA,MAAkDP,EAAAQ,KAAAR,EAAAS,GAAA,KAAAN,EAAA,UAAoCG,OAAOI,KAAA,MAAWP,EAAA,mBAAwBE,YAAA,eAAAC,OAAkCI,KAAA,EAAAC,oBAAAX,EAAAtC,YAAAkD,YAAA,cAAwEC,IAAKC,OAAAd,EAAApD,YAAwBmE,OAAQ/C,MAAAgC,EAAA,WAAAgB,SAAA,SAAAC,GAAgDjB,EAAA9D,WAAA+E,GAAmBC,WAAA,gBAA0BlB,EAAAS,GAAA,KAAAN,EAAA,aAA8BU,IAAIM,MAAAnB,EAAApD,cAAwBoD,EAAAS,GAAA,gBAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA+CG,OAAOc,GAAA,YAErpBC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExF,EACA8D,GATF,EAVA,SAAA2B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.fa5a537b76fed03d2122.js","sourcesContent":["<template>\n   <div class=\"baidu-map\">\n       <div class=\"location\">\n           <el-alert\n                :title=\"title\"\n                :type=\"type\"\n                v-if=\"isShow\"\n                show-icon>\n            </el-alert>\n            <el-col :span=\"12\">\n                <el-autocomplete\n                    class=\"inline-input\"\n                    :span=\"5\"\n                    v-model=\"mylocation\"\n                    :fetch-suggestions=\"querySearch\"\n                    placeholder=\"请输入你要查询的地方\"\n                    @select=\"goLocation\">\n                </el-autocomplete>\n                <el-button @click=\"goLocation\">查询</el-button>\n            </el-col>\n        </div>\n        <div id=\"map\" ></div>\n    </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      map: null,\n      mylocation: \"\",\n      mysiteinfo: \"\",\n      restaurants: [],\n      title: '请输入内容',\n      isShow: false,\n      type: \"error\",\n      time: new Date().getTime()\n    }\n  },\n  methods: {\n    goLocation(item) {\n        if(this.mylocation){\n            var myGeo = new window.BMap.Geocoder()\n            const that = this\n            myGeo.getPoint(that.mylocation, function(point) {\n                that.mysiteinfo = point\n                if (point) {\n                    that.map.centerAndZoom(point, 20)\n                    that.map.addOverlay(new window.BMap.Marker(point))\n                } else {\n                    that.isShow = true\n                    that.title = \"您选择地址没有解析到结果!\"\n                    that.type = \"info\"\n                    setTimeout(()=>{\n                        that.isShow = false\n                    },2000)\n                }\n            })\n        }else{\n            this.isShow = true\n            this.title = \"请输入内容\"\n            this.type = \"error\"\n            setTimeout(()=>{\n                this.isShow = false\n            },2000)\n        }\n       \n    },\n    querySearch(queryString, cb) {\n        var restaurants = this.restaurants;\n        var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants\n        // 调用 callback 返回建议列表的数据\n        cb(results);\n    },\n    createFilter(queryString) {\n        return (restaurant) => {\n          return (restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0)\n        };\n      },\n    loadAll() {\n        return [\n            { \"value\": \"北京\", \"address\": \"北京市\" },\n            { \"value\": \"五棵松\", \"address\": \"北京市\" },\n            { \"value\": \"内黄县\", \"address\": \"河南省\" }\n        ];\n        }\n    },\n    watch:{\n        $route(){\n            console.log(\"router\") \n        }\n    },\n    created() {\n        const that = this\n        this.$nextTick().then(() => {\n            that.map = new window.BMap.Map('map')\n            // 创建地图实例\n            var point = new window.BMap.Point(116.395645, 39.929986)\n            // 创建点坐标\n            that.map.centerAndZoom(point, 15)\n            var geoc = new window.BMap.Geocoder()\n            // 初始化地图，设置中心点坐标和地图级别\n            that.map.enableScrollWheelZoom() // 启用滚轮放大缩小，默认禁用\n            that.map.enableContinuousZoom() // 启用地图惯性拖拽，默认禁用\n            var opts = {type: BMAP_NAVIGATION_CONTROL_ZOOM}  // \n            that.map.addControl(new BMap.NavigationControl(opts))\n                var driving = new BMap.DrivingRoute(that.map, {\n                    renderOptions: { \n                        map: that.map, \n                        autoViewport: true \n                    } \n                });\n            function myFun(result){\n                var cityName = result.name;\n                that.map.setCenter(cityName);\n            }\n            var myCity = new BMap.LocalCity()\n            myCity.get(myFun)\n        })\n    },\n    mounted(){\n      this.restaurants = this.loadAll()\n    }\n}\n</script>\n<style scoped>\n\n#map{\n    min-width: 800px;\n    min-height: 800px;\n}\n.el-col-12 {\n    width: 40%;\n    float: none;\n    margin-bottom: 10px;\n}\n.el-input {\n    width: 59%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/map/map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"baidu-map\"},[_c('div',{staticClass:\"location\"},[(_vm.isShow)?_c('el-alert',{attrs:{\"title\":_vm.title,\"type\":_vm.type,\"show-icon\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-autocomplete',{staticClass:\"inline-input\",attrs:{\"span\":5,\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"请输入你要查询的地方\"},on:{\"select\":_vm.goLocation},model:{value:(_vm.mylocation),callback:function ($$v) {_vm.mylocation=$$v},expression:\"mylocation\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.goLocation}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e173a43e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/map/map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e173a43e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./map.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e173a43e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e173a43e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/map/map.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}