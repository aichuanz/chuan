{"version":3,"sources":["webpack:///src/view/map/map.vue","webpack:///./src/view/map/map.vue?d81a","webpack:///./src/view/map/map.vue"],"names":["map","data","mylocation","mysiteinfo","restaurants","title","isShow","type","time","Date","getTime","methods","goLocation","item","_this","this","that","window","BMap","Geocoder","getPoint","point","centerAndZoom","addOverlay","Marker","setTimeout","querySearch","queryString","cb","filter","createFilter","restaurant","value","toLowerCase","indexOf","loadAll","address","watch","$route","console","log","created","$nextTick","then","Map","Point","enableScrollWheelZoom","enableContinuousZoom","opts","BMAP_NAVIGATION_CONTROL_ZOOM","addControl","NavigationControl","DrivingRoute","renderOptions","autoViewport","LocalCity","get","result","cityName","name","setCenter","mounted","map_map","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","show-icon","_e","_v","span","fetch-suggestions","placeholder","on","select","model","callback","$$v","expression","click","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.0eb456fb5332581f4dfa.js","sourcesContent":["<template>\r\n   <div class=\"baidu-map\">\r\n       <div class=\"location\">\r\n           <el-alert\r\n                :title=\"title\"\r\n                :type=\"type\"\r\n                v-if=\"isShow\"\r\n                show-icon>\r\n            </el-alert>\r\n            <el-col :span=\"12\">\r\n                <el-autocomplete\r\n                    class=\"inline-input\"\r\n                    :span=\"5\"\r\n                    v-model=\"mylocation\"\r\n                    :fetch-suggestions=\"querySearch\"\r\n                    placeholder=\"请输入你要查询的地方\"\r\n                    @select=\"goLocation\">\r\n                </el-autocomplete>\r\n                <el-button @click=\"goLocation\">查询</el-button>\r\n            </el-col>\r\n        </div>\r\n        <div id=\"map\" ></div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      map: null,\r\n      mylocation: \"\",\r\n      mysiteinfo: \"\",\r\n      restaurants: [],\r\n      title: '请输入内容',\r\n      isShow: false,\r\n      type: \"error\",\r\n      time: new Date().getTime()\r\n    }\r\n  },\r\n  methods: {\r\n    goLocation(item) {\r\n        if(this.mylocation){\r\n            var myGeo = new window.BMap.Geocoder()\r\n            const that = this\r\n            myGeo.getPoint(that.mylocation, function(point) {\r\n                that.mysiteinfo = point\r\n                if (point) {\r\n                    that.map.centerAndZoom(point, 20)\r\n                    that.map.addOverlay(new window.BMap.Marker(point))\r\n                } else {\r\n                    that.isShow = true\r\n                    that.title = \"您选择地址没有解析到结果!\"\r\n                    that.type = \"info\"\r\n                    setTimeout(()=>{\r\n                        that.isShow = false\r\n                    },2000)\r\n                }\r\n            })\r\n        }else{\r\n            this.isShow = true\r\n            this.title = \"请输入内容\"\r\n            this.type = \"error\"\r\n            setTimeout(()=>{\r\n                this.isShow = false\r\n            },2000)\r\n        }\r\n       \r\n    },\r\n    querySearch(queryString, cb) {\r\n        var restaurants = this.restaurants;\r\n        var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n    },\r\n    createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0)\r\n        };\r\n      },\r\n    loadAll() {\r\n        return [\r\n            { \"value\": \"北京\", \"address\": \"北京市\" },\r\n            { \"value\": \"五棵松\", \"address\": \"北京市\" },\r\n            { \"value\": \"内黄县\", \"address\": \"河南省\" }\r\n        ];\r\n        }\r\n    },\r\n    watch:{\r\n        $route(){\r\n            console.log(\"router\") \r\n        }\r\n    },\r\n    created() {\r\n        const that = this\r\n        this.$nextTick().then(() => {\r\n            that.map = new window.BMap.Map('map')\r\n            // 创建地图实例\r\n            var point = new window.BMap.Point(116.395645, 39.929986)\r\n            // 创建点坐标\r\n            that.map.centerAndZoom(point, 15)\r\n            var geoc = new window.BMap.Geocoder()\r\n            // 初始化地图，设置中心点坐标和地图级别\r\n            that.map.enableScrollWheelZoom() // 启用滚轮放大缩小，默认禁用\r\n            that.map.enableContinuousZoom() // 启用地图惯性拖拽，默认禁用\r\n            var opts = {type: BMAP_NAVIGATION_CONTROL_ZOOM}  // \r\n            that.map.addControl(new BMap.NavigationControl(opts))\r\n                var driving = new BMap.DrivingRoute(that.map, {\r\n                    renderOptions: { \r\n                        map: that.map, \r\n                        autoViewport: true \r\n                    } \r\n                });\r\n            function myFun(result){\r\n                var cityName = result.name;\r\n                that.map.setCenter(cityName);\r\n            }\r\n            var myCity = new BMap.LocalCity()\r\n            myCity.get(myFun)\r\n        })\r\n    },\r\n    mounted(){\r\n      this.restaurants = this.loadAll()\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n#map{\r\n    min-width: 800px;\r\n    min-height: 800px;\r\n}\r\n.el-col-12 {\r\n    width: 40%;\r\n    float: none;\r\n    margin-bottom: 10px;\r\n}\r\n.el-input {\r\n    width: 59%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/map/map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"baidu-map\"},[_c('div',{staticClass:\"location\"},[(_vm.isShow)?_c('el-alert',{attrs:{\"title\":_vm.title,\"type\":_vm.type,\"show-icon\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-autocomplete',{staticClass:\"inline-input\",attrs:{\"span\":5,\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"请输入你要查询的地方\"},on:{\"select\":_vm.goLocation},model:{value:(_vm.mylocation),callback:function ($$v) {_vm.mylocation=$$v},expression:\"mylocation\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.goLocation}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-30c97084\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/map/map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30c97084\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./map.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30c97084\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30c97084\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/map/map.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}