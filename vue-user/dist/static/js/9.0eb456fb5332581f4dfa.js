webpackJsonp([9],{E5YF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{map:null,mylocation:"",mysiteinfo:"",restaurants:[],title:"请输入内容",isShow:!1,type:"error",time:(new Date).getTime()}},methods:{goLocation:function(t){var e=this;if(this.mylocation){var n=this;(new window.BMap.Geocoder).getPoint(n.mylocation,function(t){n.mysiteinfo=t,t?(n.map.centerAndZoom(t,20),n.map.addOverlay(new window.BMap.Marker(t))):(n.isShow=!0,n.title="您选择地址没有解析到结果!",n.type="info",setTimeout(function(){n.isShow=!1},2e3))})}else this.isShow=!0,this.title="请输入内容",this.type="error",setTimeout(function(){e.isShow=!1},2e3)},querySearch:function(t,e){var n=this.restaurants;e(t?n.filter(this.createFilter(t)):n)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},loadAll:function(){return[{value:"北京",address:"北京市"},{value:"五棵松",address:"北京市"},{value:"内黄县",address:"河南省"}]}},watch:{$route:function(){console.log("router")}},created:function(){var t=this;this.$nextTick().then(function(){t.map=new window.BMap.Map("map");var e=new window.BMap.Point(116.395645,39.929986);t.map.centerAndZoom(e,15);new window.BMap.Geocoder;t.map.enableScrollWheelZoom(),t.map.enableContinuousZoom();var n={type:BMAP_NAVIGATION_CONTROL_ZOOM};t.map.addControl(new BMap.NavigationControl(n));new BMap.DrivingRoute(t.map,{renderOptions:{map:t.map,autoViewport:!0}});(new BMap.LocalCity).get(function(e){var n=e.name;t.map.setCenter(n)})})},mounted:function(){this.restaurants=this.loadAll()}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baidu-map"},[n("div",{staticClass:"location"},[t.isShow?n("el-alert",{attrs:{title:t.title,type:t.type,"show-icon":""}}):t._e(),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-autocomplete",{staticClass:"inline-input",attrs:{span:5,"fetch-suggestions":t.querySearch,placeholder:"请输入你要查询的地方"},on:{select:t.goLocation},model:{value:t.mylocation,callback:function(e){t.mylocation=e},expression:"mylocation"}}),t._v(" "),n("el-button",{on:{click:t.goLocation}},[t._v("查询")])],1)],1),t._v(" "),n("div",{attrs:{id:"map"}})])},staticRenderFns:[]};var i=n("C7Lr")(o,a,!1,function(t){n("kCni")},"data-v-30c97084",null);e.default=i.exports},kCni:function(t,e){}});
//# sourceMappingURL=9.0eb456fb5332581f4dfa.js.map