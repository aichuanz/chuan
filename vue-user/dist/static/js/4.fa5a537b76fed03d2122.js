webpackJsonp([4],{E5YF:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{map:null,mylocation:"",mysiteinfo:"",restaurants:[],title:"请输入内容",isShow:!1,type:"error",time:(new Date).getTime()}},methods:{goLocation:function(t){var e=this;if(this.mylocation){var o=this;(new window.BMap.Geocoder).getPoint(o.mylocation,function(t){o.mysiteinfo=t,t?(o.map.centerAndZoom(t,20),o.map.addOverlay(new window.BMap.Marker(t))):(o.isShow=!0,o.title="您选择地址没有解析到结果!",o.type="info",setTimeout(function(){o.isShow=!1},2e3))})}else this.isShow=!0,this.title="请输入内容",this.type="error",setTimeout(function(){e.isShow=!1},2e3)},querySearch:function(t,e){var o=this.restaurants;e(t?o.filter(this.createFilter(t)):o)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},loadAll:function(){return[{value:"北京",address:"北京市"},{value:"五棵松",address:"北京市"},{value:"内黄县",address:"河南省"}]}},watch:{$route:function(){console.log("router")}},created:function(){var t=this;this.$nextTick().then(function(){t.map=new window.BMap.Map("map");var e=new window.BMap.Point(116.395645,39.929986);t.map.centerAndZoom(e,15);new window.BMap.Geocoder;t.map.enableScrollWheelZoom(),t.map.enableContinuousZoom();var o={type:BMAP_NAVIGATION_CONTROL_ZOOM};t.map.addControl(new BMap.NavigationControl(o));new BMap.DrivingRoute(t.map,{renderOptions:{map:t.map,autoViewport:!0}});(new BMap.LocalCity).get(function(e){var o=e.name;t.map.setCenter(o)})})},mounted:function(){this.restaurants=this.loadAll()}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"baidu-map"},[o("div",{staticClass:"location"},[t.isShow?o("el-alert",{attrs:{title:t.title,type:t.type,"show-icon":""}}):t._e(),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-autocomplete",{staticClass:"inline-input",attrs:{span:5,"fetch-suggestions":t.querySearch,placeholder:"请输入你要查询的地方"},on:{select:t.goLocation},model:{value:t.mylocation,callback:function(e){t.mylocation=e},expression:"mylocation"}}),t._v(" "),o("el-button",{on:{click:t.goLocation}},[t._v("查询")])],1)],1),t._v(" "),o("div",{attrs:{id:"map"}})])},staticRenderFns:[]};var i=o("C7Lr")(n,a,!1,function(t){o("batf")},"data-v-e173a43e",null);e.default=i.exports},batf:function(t,e){}});
//# sourceMappingURL=4.fa5a537b76fed03d2122.js.map